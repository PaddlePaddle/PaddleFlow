name: distributed_pipeline

entry_points:
  train:
    command: ""
    parameters:
      epoch: 5
    distributed_jobs:
      framework: "paddle"
      members:
        - { "role": "pserver", "command": "sleep 30","image": paddlepaddle/paddle:2.0.2-gpu-cuda10.1-cudnn7,"replicas":2, "flavour": { "name": "flavour1" }}
        - { "role": "pworker", "command": "sleep 20","image": paddlepaddle/paddle:2.0.2-gpu-cuda10.1-cudnn7,"replicas":2, "flavour": { "name": "flavour1" }}
parallelism: 1